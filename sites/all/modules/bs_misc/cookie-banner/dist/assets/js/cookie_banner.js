!function(o){var e={};function t(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return o[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=o,t.c=e,t.d=function(o,e,n){t.o(o,e)||Object.defineProperty(o,e,{enumerable:!0,get:n})},t.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},t.t=function(o,e){if(1&e&&(o=t(o)),8&e)return o;if(4&e&&"object"==typeof o&&o&&o.__esModule)return o;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:o}),2&e&&"string"!=typeof o)for(var i in o)t.d(n,i,function(e){return o[e]}.bind(null,i));return n},t.n=function(o){var e=o&&o.__esModule?function(){return o.default}:function(){return o};return t.d(e,"a",e),e},t.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},t.p="",t(t.s=4)}([function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.createCookie=function(o,e,t){var n=void 0;if(t){var i=new Date;i.setTime(i.getTime()+24*t*60*60*1e3),n="; expires="+i.toGMTString()}else n="";document.cookie=o+"="+e+n+";path=/;"},e.getCookie=function(o){if(document.cookie.length>0){var e=document.cookie.indexOf(o+"=");if(-1!==e){e=e+o.length+1;var t=document.cookie.indexOf(";",e);return-1===t&&(t=document.cookie.length),unescape(document.cookie.substring(e,t))}}return""},e.popinTmpl=function(o){document.getElementsByTagName("body")[0];return'\n<div class="CookieOverlay hidden">\n  <section class="CookieModal">\n     <div class="CookieModal-inner">\n        <button class="CookieModal-close">\n           <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n              <path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z"/>\n           </svg>\n           '+o.popincookie.labelbutton+'\n        </button>\n        <header class="CookieModal-header">\n           <h1 class="CookieModal-title">'+o.popincookie.title+"\n           </h1>\n           <p>"+o.popincookie.description+'</p>\n        </header>\n        <div class="CookieModal-content">\n           <ul class="CookieModal-paramList">\n              <li class="CookieParam" data-id="mandatorycookie">\n                 <div class="CookieParam-head">\n                    <h2 class="CookieParam-title">'+o.popincookie.mandatorycookie.title+'\n                    </h2>\n                    <div class="CookieCheck">\n                       <div class="CookieCheck-statut is-active">'+o.popincookie.mandatorycookie.state+'\n                       </div>\n                    </div>\n                 </div>\n                 <p class="CookieParam-info">'+o.popincookie.mandatorycookie.description+'\n                 </p>\n                 <button class="CookieToogle-btn">\n                    '+o.popincookie.mandatorycookie.toggle.title+'\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n                       <path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"/>\n                    </svg>\n                 </button>\n                 <div class="CookieToogle-content" aria-hidden="true">\n                    <p>'+o.popincookie.mandatorycookie.toggle.content+'\n                    </p>\n                 </div>\n              </li>\n              <li class="CookieParam" data-id="functionalcookie">\n                 <div class="CookieParam-head">\n                    <h2 class="CookieParam-title">'+o.popincookie.functionalcookie.title+'\n                    </h2>\n                    <div class="CookieCheck">\n                       <input type="checkbox" id="consent_cookie_fonc" class="CookieCheck-input">\n                       <label for="consent_cookie_fonc" class="CookieCheck-label" aria-label="Un texte ici"></label>\n                       <div class="CookieCheck-statut">'+o.popincookie.functionalcookie.state+'\n                       </div>\n                    </div>\n                 </div>\n                 <p class="CookieParam-info">'+o.popincookie.functionalcookie.description+'\n                 </p>\n                 <button class="CookieToogle-btn">\n                    '+o.popincookie.functionalcookie.toggle.title+'\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n                       <path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"/>\n                    </svg>\n                 </button>\n                 <div class="CookieToogle-content" aria-hidden="true">\n                    <p>'+o.popincookie.functionalcookie.toggle.content+'\n                    </p>\n                 </div>\n              </li>\n              <li class="CookieParam" data-id="performancecookie">\n                 <div class="CookieParam-head">\n                    <h2 class="CookieParam-title">'+o.popincookie.performancecookie.title+'\n                    </h2>\n                    <div class="CookieCheck">\n                       <input type="checkbox" id="consent_cookie_stats" class="CookieCheck-input">\n                       <label for="consent_cookie_stats" class="CookieCheck-label" aria-label="Un texte ici"></label>\n                       <div class="CookieCheck-statut">'+o.popincookie.performancecookie.state+'\n                       </div>\n                    </div>\n                 </div>\n                 <p class="CookieParam-info">'+o.popincookie.performancecookie.description+'\n                 </p>\n                 <button class="CookieToogle-btn">\n                    '+o.popincookie.performancecookie.toggle.title+'\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n                       <path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"/>\n                    </svg>\n                 </button>\n                 <div class="CookieToogle-content" aria-hidden="true">\n                    <p>'+o.popincookie.performancecookie.toggle.content+'\n                    </p>\n                 </div>\n              </li>\n              <li class="CookieParam" data-id="adscookie">\n                 <div class="CookieParam-head">\n                    <h2 class="CookieParam-title">'+o.popincookie.adscookie.title+'\n                    </h2>\n                    <div class="CookieCheck">\n                       <input type="checkbox" id="consent_cookie_mkg" class="CookieCheck-input">\n                       <label for="consent_cookie_mkg" class="CookieCheck-label" aria-label="Un texte ici"></label>\n                       <div class="CookieCheck-statut">'+o.popincookie.adscookie.state+'\n                       </div>\n                    </div>\n                 </div>\n                 <p class="CookieParam-info">'+o.popincookie.adscookie.description+'\n                 </p>\n                 <button class="CookieToogle-btn">\n                    '+o.popincookie.adscookie.toggle.title+'\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n                       <path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"/>\n                    </svg>\n                 </button>\n                 <div class="CookieToogle-content" aria-hidden="true">\n                    <p>'+o.popincookie.adscookie.toggle.content+'\n                    </p>\n                 </div>\n              </li>\n           </ul>\n        </div>\n     </div>\n     <footer class="CookieModal-actions">\n        <button class="CookieBtn">'+o.popincookie.labelbutton+"</button>\n     </footer>\n  </section>\n</div>"},e.bannerTmpl=function(o){var e=o.bannercookie,t='<div class="CookieBanner">\n      <div class="CookieBanner-inner">\n      <div class="CookieBanner-text">\n          <div class="CookieBanner-title">'+e.title+'</div>\n          <p class="CookieBanner-info">'+e.info+'</p>\n      </div>\n      <div class="CookieBanner-actions">\n          <button class="CookieBtn">'+e.cta1+'</button>\n          <button class="CookieBtn is-alt">'+e.cta2+"</button>\n      </div>\n      </div>\n  </div>";return t}},function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},i=t(0);e.default=function(o,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fr";this.data=o,this.config=e,this.lang=t,this.cookie={cookie_consent:0,consent_cookie_fonc:0,consent_cookie_stats:0,consent_cookie_mkg:0},this.init=function(){this.initGtm(),this.initCookie(),this.trigerPopinFromBtns(),this.injectBanner(),this.injectPopin()},this.initGtm=function(){window.dataLayer=window.dataLayer||[],(dataLayer||window.dataLayer)&&(dataLayer.push(this.cookie),this.cookieGtm=Object.assign({},dataLayer[1]))},this.parseCookie=function(o){return JSON.parse(o)},this.stringifyCookie=function(o){return JSON.stringify(o)},this.updateCookie=function(o){if("object"!==(void 0===o?"undefined":n(o)))throw new Error("UpdateCookie must have a Object param");var e=Object.assign({},this.cookieGtm),t=Object.keys(o);for(var c in o)t[0]in o&&(e[c]=o[c]);this.cookieGtm=e,(0,i.createCookie)(this.config.cookiename,this.stringifyCookie(this.cookieGtm),395),this.pushDatalayer(this.cookieGtm)},this.initCookie=function(){""==(0,i.getCookie)(this.config.cookiename)&&(0,i.createCookie)(this.config.cookiename,this.stringifyCookie(this.cookieGtm),395),dataLayer.push(this.cookieGtm),(0,i.getCookie)(this.config.cookiename)&&(this.cookieGtm=this.parseCookie((0,i.getCookie)(this.config.cookiename))),dataLayer.push(this.cookieGtm)},this.pushDatalayer=function(o){dataLayer.push(o)},this.triggerGtmEventCustom=function(o){dataLayer.push(o)},this.updateRadioInputs=function(o){document.querySelectorAll(".CookieParam .CookieParam-head .CookieCheck .CookieCheck-input").forEach(function(e,t){if(e.getAttribute("id")in o)switch(o[e.getAttribute("id")]){case 1:e.setAttribute("checked","");break;case 0:e.removeAttribute("checked")}})},this.buildElementsPopin=function(){var o=this,e=document.querySelectorAll(".CookieParam"),t=this.config;t.domain,t.subdomain,t.cookiename,e.forEach(function(e){var t=e.getAttribute("data-id"),n=o.data[0][o.lang].popincookie[t],i=o.data[0][o.lang].popincookie[t].gtm.radio,c=!0,a="close",s=e.querySelector(".CookieParam-head .CookieCheck .CookieCheck-input");if(void 0!==o.cookieGtm&&"number"==typeof o.cookieGtm[i])switch(o.cookieGtm[i]){case 1:s.setAttribute("checked","");break;case 0:s.removeAttribute("checked")}if(null!==s){var r=!1,l=null,d=n.gtm.radio,k=n.gtm.label;s.addEventListener("change",function(e){(r=!r)?s.setAttribute("checked",""):s.removeAttribute("checked"),l=s.checked?1:0;var t={};t[d]=l;var n={};n.event=k,n[d]=l,o.updateCookie(t),o.triggerGtmEventCustom(n)})}e.querySelector(".CookieToogle-btn").addEventListener("click",function(e){var t=e.target||e.srcElement;t.classList.toggle("is-toggle");var i=t.nextElementSibling;if(!i)return!1;a=(c=!c)?"close":"open",e.preventDefault,setTimeout(function(){i.setAttribute("aria-hidden",c.toString()),o.triggerGtmEventCustom({event:""+a+n.gtm.toggle})},100)})})},this.trigerPopinFromBtns=function(){var o=this;Array.from(document.querySelectorAll(".CookieBtn")).map(function(e,t){e.addEventListener("click",function(e){o.triggerGtmEventCustom({event:"open_popin_cookies_consent",clic_origin:"link"}),o.showPopin()})})},this.injectBanner=function(){var o=this;document.getElementsByTagName("body")[0].insertAdjacentHTML("beforeend",(0,i.bannerTmpl)(this.data[0][this.lang]));var e=[document.querySelectorAll(".CookieBanner .CookieBanner-actions button")[0],document.querySelectorAll(".CookieBanner .CookieBanner-actions button")[1]];e[0].addEventListener("click",function(e){e.preventDefault,o.updateCookie({cookie_consent:1,consent_cookie_fonc:1,consent_cookie_stats:1,consent_cookie_mkg:1}),o.hideBanner(),o.triggerGtmEventCustom({event:"accept_all_cookies",consent_cookie_fonc:1,consent_cookie_stats:1,consent_cookie_mkg:1})}),e[1].addEventListener("click",function(e){e.preventDefault,o.updateCookie({cookie_consent:1}),o.triggerGtmEventCustom({event:"open_popin_cookies_consent",clic_origin:"banner"}),o.showPopin()})},this.injectPopin=function(){var o=this;document.getElementsByTagName("body")[0].insertAdjacentHTML("beforeend",(0,i.popinTmpl)(this.data[0][this.lang]));var e=document.querySelectorAll(".CookieOverlay")[0];[e.querySelectorAll(".CookieModal-actions button")[0],e.querySelectorAll(".CookieModal .CookieModal-inner .CookieModal-close")[0]].forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation(),document.getElementsByClassName("CookieModal-inner")[0].scrollTop=0,o.triggerGtmEventCustom({event:"close_popin_cookies_consent"}),o.hidePopin()})}),this.buildElementsPopin()},this.hidePopin=function(){document.querySelectorAll(".CookieOverlay")[0].classList.add("hidden")},this.showPopin=function(){document.querySelectorAll(".CookieOverlay")[0].classList.remove("hidden"),this.updateRadioInputs(this.cookieGtm)},this.hideBanner=function(){document.querySelectorAll(".CookieBanner")[0].classList.add("hidden")},this.init(),1==this.cookieGtm.cookie_consent&&this.hideBanner()}},,function(o,e,t){},function(o,e,t){"use strict";t(3);var n,i=t(1);new((n=i)&&n.__esModule?n:{default:n}).default(cookie_banner_data,cookie_banner_config,cookie_lang)}]);
//# sourceMappingURL=cookie_banner.js.map